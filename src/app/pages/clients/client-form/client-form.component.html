<div class="edit-container">
  <h2>{{ isEditing ? "Editar Cliente" : "Agregar Nuevo Cliente" }}</h2>

  <form [formGroup]="clientForm" (ngSubmit)="onSave()">
    <div class="section">
      <h3>Datos del Cliente</h3>
      <div class="form-group-inline">
        <div class="form-group">
          <label for="nombre">Nombre</label>
          <input id="nombre" type="text" formControlName="nombre" />
          <div
            class="error-message"
            *ngIf="clientForm.get('nombre')?.touched && clientForm.get('nombre')?.hasError('required')"
          >
            Campo obligatorio.
          </div>
        </div>
        <div class="form-group">
          <label for="apellido">Apellido</label>
          <input id="apellido" type="text" formControlName="apellido" />
          <div
            class="error-message"
            *ngIf="clientForm.get('apellido')?.touched && clientForm.get('apellido')?.hasError('required')"
          >
            Campo obligatorio.
          </div>
        </div>
      </div>
      <div class="form-group-inline">
        <div class="form-group">
          <label for="dni">DNI</label>
          <input id="dni" type="text" maxlength="8" inputmode="numeric" formControlName="dni" />
          <div
            class="error-message"
            *ngIf="
              clientForm.get('dni')?.touched &&
              (clientForm.get('dni')?.hasError('pattern') || clientForm.get('dni')?.hasError('maxlength'))
            "
          >
            El DNI debe tener 8 digitos numericos.
          </div>
        </div>
        <div class="form-group">
          <label for="phone">Telefono</label>
          <input id="phone" type="text" formControlName="phone" />
          <div
            class="error-message"
            *ngIf="clientForm.get('phone')?.touched && clientForm.get('phone')?.hasError('required')"
          >
            Campo obligatorio.
          </div>
        </div>
      </div>
      <div class="form-group">
        <label for="cuil">Cuil</label>
        <input id="cuil" type="text" maxlength="11" inputmode="numeric" formControlName="cuil" />
        <div
          class="error-message"
          *ngIf="
            clientForm.get('cuil')?.touched &&
            (clientForm.get('cuil')?.hasError('pattern') || clientForm.get('cuil')?.hasError('maxlength'))
          "
        >
          El CUIL debe tener 11 digitos numericos.
        </div>
      </div>
      <div
        class="error-message"
        *ngIf="
          clientForm.hasError('dniOrCuil') &&
          (clientForm.get('dni')?.touched || clientForm.get('cuil')?.touched)
        "
      >
        Debes ingresar al menos DNI o CUIL.
      </div>
      <div class="form-group">
        <label for="domicilio">Domicilio</label>
        <input id="domicilio" type="text" formControlName="domicilio" />
        <div
          class="error-message"
          *ngIf="clientForm.get('domicilio')?.touched && clientForm.get('domicilio')?.hasError('required')"
        >
          Campo obligatorio.
        </div>
      </div>
      <!-- <div class="form-group">
        <label for="foto">Foto (URL)</label>
        <input id="foto" type="text" formControlName="foto" />
      </div> -->
    </div>

    <div class="form-actions">
      <button type="submit" class="save-btn">
        {{ isEditing ? "Guardar Cambios" : "Guardar" }}
      </button>
      <button type="button" class="cancel-btn" (click)="onCancel()">
        Cancelar
      </button>
    </div>
  </form>
</div>
